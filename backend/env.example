# DigiDiploma Backend Environment Variables
# Copy this file to .env and update with your actual values

# Firebase Configuration
# Choose ONE of the following methods:

# Method 1: Using Service Account JSON File (EASIEST - Recommended for Development)
# Download service account key from: https://console.firebase.google.com/project/digidiploma-f106d/settings/serviceaccounts/adminsdk
# Place the JSON file in the backend folder, then uncomment and update:
# GOOGLE_APPLICATION_CREDENTIALS=./service-account-key.json
# FIREBASE_PROJECT_ID=digidiploma-f106d

# Method 2: Using Environment Variables (Recommended for Production)
# Get these values from your service account JSON file:
FIREBASE_PROJECT_ID=digidiploma-f106d
FIREBASE_PRIVATE_KEY_ID=your-private-key-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_KEY\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@digidiploma-f106d.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your-client-id
FIREBASE_CLIENT_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xxxxx%40digidiploma-f106d.iam.gserviceaccount.com
FIREBASE_STORAGE_BUCKET=digidiploma-f106d.appspot.com

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-at-least-32-characters-long

# Stripe Configuration
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Razorpay Configuration (for material payments)
# Get these from: https://dashboard.razorpay.com/app/keys
# Test Mode: Use keys starting with rzp_test_
# Live Mode: Use keys starting with rzp_live_ (after KYC verification)
# REQUIRED: Both KEY_ID and KEY_SECRET are needed for payments to work
RAZORPAY_KEY_ID=rzp_test_your_key_id_here
RAZORPAY_KEY_SECRET=your_key_secret_here
# OPTIONAL: Webhook Secret - Only needed for production or real-time webhook notifications
# For development, you can leave this empty - payments will still work via frontend verification
# Get from Settings > Webhooks in Razorpay Dashboard (only if you set up webhooks)
RAZORPAY_WEBHOOK_SECRET=your_webhook_secret_here

# Server Configuration
PORT=5000
NODE_ENV=production
FRONTEND_URL=https://your-domain.com

# CORS Configuration
CORS_ORIGIN=https://your-domain.com

# Database Configuration (if using external database)
DATABASE_URL=your-database-url

# Email Configuration (for OTP and notifications)
# For Gmail: Use App Password (not regular password)
# Enable 2FA and generate App Password: https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_REPLY_TO=your-email@gmail.com
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=your-email@gmail.com

ADMIN_ALERT_EMAIL=digidiploma06@gmail.com

# Alternative email env variables (if using different naming)
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASS=your-app-password

# SMS Configuration (for OTP verification)
# Sign up for free trial at: https://www.twilio.com/try-twilio
# Get credentials from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Monitoring
SENTRY_DSN=your-sentry-dsn
LOG_LEVEL=info

# Cloudflare R2 Storage Configuration
# Set STORAGE_DRIVER=r2 to use R2, or leave as 'local' for local file storage
STORAGE_DRIVER=r2
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_ACCOUNT_ID=your-r2-account-id
R2_BUCKET_NAME=your-bucket-name
R2_PUBLIC_BASE_URL=https://your-custom-domain.com
# Optional: Set to 'true' to force R2 usage (no fallback to local)
FORCE_R2_STORAGE=false

# MongoDB Atlas Configuration (Free M0 tier recommended)
# Get connection string from: https://cloud.mongodb.com/
# Format: mongodb+srv://username:password@cluster.mongodb.net/digidiploma?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/digidiploma?retryWrites=true&w=majority
DATABASE_URL=mongodb+srv://username:password@cluster.mongodb.net/digidiploma?retryWrites=true&w=majority
